<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="public/css/app.css" />
  </head>

  <body>
  <div style="background:url('public/img/template/twitter-textjpg') no-repeat center center fixed; background-size: cover; position: absolute; float: left; top: 0px; left: 0px; width: 100vw; height: 100vh;z-index: -10;"></div>
    <div class="main">      
      <div class="twitterText">
        <div class="inner">
          <div class="top">
            <div class="name">
              <h1></h1>
              <h2></h2>
            </div>
            <img src="public/img/twitter_150px.png"  />
          </div>

          <div class="message"></div>
        </div>
      </div>

      <div class="twitterPhoto">
        <div class="photo"></div>

        <div class="dataSide">
          <div class="dataInner">
            <div class="name">
              <img src="public/img/twitter_120px.png" />
              <h1></h1>
            </div>

            <div class="message"></div>

            <div class="handle">
              <h2></h2>
            </div>
          </div>
        </div>
      </div>

    </div> <!-- / .main -->

    <!-- Scripts -->
    <script type="text/javascript" src="public/lib/jquery/jquery.js"></script>
    <script type="text/javascript" src="public/lib/socket.io-client/socket.io.js"></script>
    <script type="text/javascript" src="public/js/data.js"></script>
    <script type="text/javascript" src="public/simple-js/twitter.js"></script>
    <script type="text/javascript">

      function play() { // animate in
        if(window.imageUrl){
          var img = new Image();
          img.onload = animate;
          img.src = window.imageUrl;
        } else {
          animate();
        }
      }

      function animate() {
        console.log("Animating");

        var root = document.querySelector(window.imageUrl?'.twitterPhoto':'.twitterText');
        root.classList.add('visible');
      }

      function stop() { // animate out
        console.log("Clearing");

        var root = document.querySelector(window.imageUrl?'.twitterPhoto':'.twitterText');
        root.classList.remove('visible');
      }

      function update(str) {
        var data = xmlToObject(str);

        renderTweet(data);
      }

      function fakePhoto(){
        update("<templateData><componentData id=\"handle\"><data id=\"text\" value=\"wef\"/></componentData><componentData id=\"username\"><data id=\"text\" value=\"World Economic Forum\"/></componentData><componentData id=\"message\"><data id=\"text\" value=\"Have humans pushed the world into a new geological age? https://t.co/wD4NBKzUKN #science https://t.co/LYkZ6IGNdv\"/></componentData><componentData id=\"img\"><data id=\"text\" value=\"http://pbs.twimg.com/media/CY9RFG6WkAA6VGu.png:large\"/></componentData></templateData>");
        play();
      }

      // renderTweet(findDataById('tweet'));
    </script>

  </body>
</html>