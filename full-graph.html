<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="public/css/app.css" />
  </head>

  <body>
  <!--<div style="background:url('public/img/template/graph-full-empty.jpg') no-repeat center center fixed; background-size: cover; position: absolute; float: left; top: 0px; left: 0px; width: 100vw; height: 100vh; z-index: -200;"></div>-->
    <div class="main">
      <div class="winningCandidateContainer">
        <div class="wideGraph">
          <div id="chartLabels"></div>
          <div id="chartWrapper"></div>
        </div>
      </div>

      <h1 id='graphRoleTitle'></h1>

    </div> <!-- / .main -->

    <!-- Scripts -->
    <script type="text/javascript" src="public/lib/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="public/lib/Chart.js/Chart.min.js"></script>
    <script type="text/javascript" src="public/lib/Chart.HorizontalBar.js/Chart.HorizontalBar.js"></script>
    <script type="text/javascript" src="public/simple-js/graph.js"></script>
    <script type="text/javascript">

      function stop(){
        document.querySelector('body').style.display = "none";
      }

      function play(str){
        // TODO - start scraper
        Graphs.startScraping();
      }

      function update(str){
        var xml = (new DOMParser()).parseFromString(str,"text/xml");
        var server = window.apiUrl = xml.querySelector('#server #text').getAttribute('value');
        var interval = window.apiInterval = parseInt(xml.querySelector('#interval #text').getAttribute('value'));

        console.log(server, interval);
      }
      
      // update("<templateData><componentData id=\"server\"><data id=\"text\" value=\"http://localhost:8088/graph\" /></componentData><componentData id=\"interval\"><data id=\"text\" value=\"1000\" /></componentData></templateData>");
      // play();

      // Graphs.scrapeData();

    </script>
  </body>
</html>