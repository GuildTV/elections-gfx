<html>
  <head>
    <!--Load the AJAX API-->
    <script type="text/javascript" src="https://www.google.com/jsapi"></script>
    <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.3.min.js"></script>
    <script type="text/javascript">
      //charts and data being used
      var data = [];
      var chart = [];

      //data population
      function addNext() {
        var votes = randomScalingFactor();
        data[activeChart].setValue(upNext, 1,votes );
        data[activeChart].setValue(upNext, 2, votes+"");
        upNext = ++upNext%4;

        drawChart();
      }
      var upNext = 0;
      var activeChart = 0;

      var randomScalingFactor = function(){ return Math.round(Math.random()*100);};

      // Load the Visualization API and the piechart package.
      google.load('visualization', '1.0', {'packages':['corechart']});

      // Set a callback to run when the Google Visualization API is loaded.
      google.setOnLoadCallback(init);

      //all graph options
      var options = {
        animation:{
          duration: 800,
          easing: 'out',
        },
        legend: {position: 'none'},
        vAxis: { 
          minValue: 0, 
          maxValue: 100,
          textPosition: 'none',
          gridlines: {
            color: 'transparent'
          }
        },
        backgroundColor: { fill:'transparent' },
      };

      function setupGraph(num){
        var data = window.data[num] = new google.visualization.DataTable();
        data.addColumn('string', 'Name');
        data.addColumn('number', 'Value');
        data.addColumn({type: 'string', role: 'annotation'});
        data.addRow(["Rob Sumner", 0, ""]);
        data.addRow(["Robyn Evans", 0, ""]);
        data.addRow(["Matt Lavendar", 0, ""]);
        data.addRow(["Julian Waller", 0, ""]);

        var chart = window.chart[num] = new google.visualization.ColumnChart(
            document.getElementById('chart_div'+num));
      }

      function drawCharts() {
        $.each(window.chart, function(i,v){
          v.draw(window.data[i], options);
        });
      }

      function showChart(num){
        $(".chart:not(.background):not(.hidden)").addClass('background');

        setupGraph(num);
        activeChart = num;

        drawCharts();
        $("#chart_div"+num).removeClass('hidden');
      }

      function init() {
        showChart(0);
      }
      
    </script>
    <style>
    .chart {
      height:100%;
      width:100%;
      float:left;
      position:absolute;
      top:0;
      left:0;
    }
    .hidden {
      opacity: 0;
    }
    .background {
      opacity: 0.3;
      top:-20;
      left:20px;
    }
    body{
      overflow:hidden;
    }
    </style>
  </head>

  <body>
    <!--Div that will hold the pie chart-->
    <div id="chart_div0" class="chart hidden" data-number="0"></div>
    <div id="chart_div1" class="chart hidden" data-number="1"></div>
    <div id="chart_div2" class="chart hidden" data-number="2"></div>
  </body>
</html>