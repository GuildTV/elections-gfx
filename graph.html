<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">

    <link rel="stylesheet" href="public/css/app.css" />
  </head>

  <body>
  <div style="background:url('public/img/template/graph-empty.jpg') no-repeat center center fixed; background-size: cover; position: absolute; float: left; top: 0px; left: 0px; width: 100vw; height: 100vh; z-index: -200;"></div>
    <div class="main">
      <div class="winningCandidateContainer">
        <div class="dataSide stats">
        </div>
        <div class="imageSide">
          <div id="chartLabels"></div>
          <div id="chartWrapper"></div>
        </div>
      </div>

      <h1 id='graphRoleTitle'></h1>

    </div> <!-- / .main -->

    <!-- Scripts -->
    <script type="text/javascript" src="public/lib/socket.io-client/socket.io.js"></script>
    <script type="text/javascript" src="public/lib/Chart.js/Chart.min.js"></script>
    <script type="text/javascript" src="public/lib/Chart.HorizontalBar.js/Chart.HorizontalBar.js"></script>
    <script type="text/javascript" src="public/simple-js/graph.js"></script>
    <script type="text/javascript">



      Graphs.myLabels = [
        "Aghamirzayev".toUpperCase(),
        // "Cherekaeva".toUpperCase(),
        "Guan".toUpperCase(),
        "Liu".toUpperCase(),
        "Mohammed".toUpperCase(),
        "Nwaiwu".toUpperCase(),
        // "Nwaiwu".toUpperCase(),
        "RON"
      ];

      function play(str){
        animate();
      }

      function update(str){
        var xml = (new DOMParser()).parseFromString(str,"text/xml");
        var id = xml.querySelector('#id #text').getAttribute('value');
        var server = xml.querySelector('#server #text').getAttribute('value');

        window.socket = io(server);
        window.socket.on('load', Graphs.initialLoad);
        window.socket.on('eliminate', Graphs.socketEliminate);
        window.socket.on('vote', Graphs.socketVote);

        // render();
        // Graphs.setTitle('TEST ROLE');
      }
      
      update("<templateData><componentData id=\"id\"><data id=\"text\" value=\"d7e3bbe0-1d47-4eb6-8749-9181d1049890\" /></componentData><componentData id=\"server\"><data id=\"text\" value=\"http://localhost:3355\" /></templateData>");

    </script>
  </body>
</html>